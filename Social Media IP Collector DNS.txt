/ip dns
set address-list-extra-time=1w3d allow-remote-requests=yes \
    max-concurrent-queries=1000 servers=8.8.8.8,8.8.4.4
/ip dns
set allow-remote-requests=yes address-list-extra-time=1w3d \
    max-concurrent-queries=1000 servers=8.8.8.8,8.8.4.4,1.1.1.1

/ip dns static
remove [find where comment~"IPs"]
# ===================== SPEEDTEST / IP CHECK =====================
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=aiv-delivery.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=c.speedtest.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=check-host.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=cli.speedtest.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=earthlink.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=fast.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=icanhazip.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ifconfig.me type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ip-adress.eu type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ipchicken.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ipinfo.io type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=iplocation.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=measurementlab.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=mxtoolbox.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=myipaddress.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ookla.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=speed.cloudflare.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=speedof.me type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=speedtestcustom.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=speedtest.googlefiber.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=speedtest.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=speedsmart.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=testmy.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=testmyspeed.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=whatismyip.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=whatismyip.org type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=whatismyip.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=whatismyipaddress.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=whoer.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=xmyip.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=yougetsignal.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ipinfodb.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ipaddress.my type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=showmyip.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=maxmind.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=myip.ms type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=browserleaks.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=whoer.net type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ipchicken.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=ipburger.com type=FWD
add address-list="SpeedTest IPs" comment="SpeedTest IPs" match-subdomain=yes name=2ip.io type=FWD


# ===================== YOUTUBE / GOOGLE VIDEO =====================
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=youtube.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=youtu.be type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=googlevideo.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=ytimg.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=ggpht.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=youtube-nocookie.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=youtubekids.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=youtubegaming.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=music.youtube.com type=FWD
add address-list="Youtube IPs" comment="Youtube IPs" match-subdomain=yes name=youtubei.googleapis.com type=FWD

# ===================== TIKTOK / BYTEDANCE =====================
/ip dns static
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=akamaized.net type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=bytecdn.cn type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=byted.org type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=bytedance.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=byteoversea.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=footprint.net type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=ibyteimg.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=ibytedtos.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=muscdn.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=musemuse.cn type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=musical.ly type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=myqcloud.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=tiktok.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=tiktok.net type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=tiktok.org type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=tiktokcdn.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=tiktokv.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=tiktokv.us type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=worldfcdn.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=wsdvs.com type=FWD
add address-list="Tiktok IPs" comment="Tiktok IPs" match-subdomain=yes name=www.tiktok.com type=FWD

# ===================== TELEGRAM (FULL) =====================
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=telegram.org type=FWD
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=telegram.me type=FWD
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=t.me type=FWD
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=web.telegram.org type=FWD
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=cdn.telegram.org type=FWD
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=telesco.pe type=FWD
add address-list="Telegram IPs" comment="Telegram IPs" match-subdomain=yes name=telegram-cdn.org type=FWD

# ===================== SNAPCHAT =====================
add address-list="Snapchat IPs" comment="Snapchat IPs" match-subdomain=yes name=snapchat.com type=FWD
add address-list="Snapchat IPs" comment="Snapchat IPs" match-subdomain=yes name=snap.com type=FWD
add address-list="Snapchat IPs" comment="Snapchat IPs" match-subdomain=yes name=sc-cdn.net type=FWD
add address-list="Snapchat IPs" comment="Snapchat IPs" match-subdomain=yes name=app-analytics.snapchat.com type=FWD
add address-list="Snapchat IPs" comment="Snapchat IPs" match-subdomain=yes name=feelinsonice.com type=FWD

# ===================== TWITTER / X =====================
add address-list="Twitter/X IPs" comment="Twitter/X IPs" match-subdomain=yes name=x.com type=FWD
add address-list="Twitter/X IPs" comment="Twitter/X IPs" match-subdomain=yes name=twitter.com type=FWD
add address-list="Twitter/X IPs" comment="Twitter/X IPs" match-subdomain=yes name=t.co type=FWD
add address-list="Twitter/X IPs" comment="Twitter/X IPs" match-subdomain=yes name=twttr.com type=FWD
add address-list="Twitter/X IPs" comment="Twitter/X IPs" match-subdomain=yes name=video.twimg.com type=FWD
add address-list="Twitter/X IPs" comment="Twitter/X IPs" match-subdomain=yes name=abs.twimg.com type=FWD

# ===================== NETFLIX / SHAHID / DISNEY / PRIME =====================
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=netflix.com type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=netflix.net type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=nflxvideo.net type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=nflximg.net type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=nflxso.net type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=shahid.net type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=shahid.mbc.net type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=disneyplus.com type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=dssott.com type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=primevideo.com type=FWD
add address-list="Shahid/Netflix IPs" comment="Shahid/Netflix IPs" match-subdomain=yes name=aiv-delivery.net type=FWD

# ===================== APP STORES / UPDATES =====================
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=play.google.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=play.googleapis.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=play-fe.googleapis.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=googleusercontent.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=play.google.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=android.clients.google.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=andorid.clients.google.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=market.android.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=ota.googlezip.net type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=apple.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=icloud.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=itunes.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=appstore.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=apps.apple.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=applemusic.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=apple-dns.net type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=mzstatic.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=mesu.apple.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=updates-http.cdn-apple.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=swscan.apple.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=swdist.apple.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=apps.microsoft.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=storeedgefd.dsx.mp.microsoft.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=windowsupdate.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=update.microsoft.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=download.windowsupdate.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=msftncsi.com type=FWD
add address-list="Store IPs" comment="Store IPs" match-subdomain=yes name=msftconnecttest.com type=FWD

# ===================== META / FACEBOOK / INSTAGRAM =====================
add address-list="Facebook IPs" comment="Facebook IPs" match-subdomain=yes name=facebook.com type=FWD
add address-list="Facebook IPs" comment="Facebook IPs" match-subdomain=yes name=facebook.net type=FWD
add address-list="Facebook IPs" comment="Facebook IPs" match-subdomain=yes name=fb.com type=FWD
add address-list="Facebook IPs" comment="Facebook IPs" match-subdomain=yes name=fbcdn.net type=FWD
add address-list="Facebook IPs" comment="Facebook IPs" match-subdomain=yes name=messenger.com type=FWD
add address-list="Instagram IPs" comment="Instagram IPs" match-subdomain=yes name=instagram.com type=FWD
add address-list="Instagram IPs" comment="Instagram IPs" match-subdomain=yes name=cdninstagram.com type=FWD
add address-list="Instagram IPs" comment="Instagram IPs" match-subdomain=yes name=threads.com type=FWD

# ===================== WHATSAPP =====================
add address-list="Whatsapp IPs" comment="Whatsapp IPs" match-subdomain=yes name=whatsapp.com type=FWD
add address-list="Whatsapp IPs" comment="Whatsapp IPs" match-subdomain=yes name=whatsapp.net type=FWD
add address-list="Whatsapp IPs" comment="Whatsapp IPs" match-subdomain=yes name=mmg.whatsapp.net type=FWD

# ===================== AI SERVICES =====================
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=anthropic.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=api.openai.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=character.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=chatgpt.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=claude.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=cohere.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=copilot.microsoft.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=cursor.sh type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=deepseek.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=elevenlabs.io type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=fliki.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=gemini.google.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=ideogram.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=leonardo.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=meta.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=midjourney.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=mistral.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=notion.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=openai.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=openrouter.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=perplexity.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=pika.art type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=platform.openai.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=replit.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=runwayml.com type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=stability.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=suno.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=windsurf.ai type=FWD
add address-list="AI IPs" comment="AI IPs" match-subdomain=yes name=x.ai type=FWD

# ===================== Likee =====================
add address-list="Likee IPs" comment="Likee IPs" match-subdomain=yes name=likee.com type=FWD
add address-list="Likee IPs" comment="Likee IPs" match-subdomain=yes name=like.video type=FWD
add address-list="Likee IPs" comment="Likee IPs" match-subdomain=yes name=likee.video type=FWD
add address-list="Likee IPs" comment="Likee IPs" match-subdomain=yes name=likeevideo.ru type=FWD
add address-list="Likee IPs" comment="Likee IPs" match-subdomain=yes name=like-video.com type=FWD

/ip firewall address-list
add address=91.105.192.0/23 list="Telegram IPs"
add address=91.108.4.0/22 list="Telegram IPs"
add address=91.108.8.0/22 list="Telegram IPs"
add address=91.108.56.0/22 list="Telegram IPs"
add address=95.161.64.0/20 list="Telegram IPs"
add address=109.239.140.0/24 list="Telegram IPs"
add address=149.154.160.0/22 list="Telegram IPs"
add address=149.154.164.0/22 list="Telegram IPs"
add address=149.154.168.0/22 list="Telegram IPs"
add address=149.154.172.0/22 list="Telegram IPs"
add address=185.76.151.0/24 list="Telegram IPs"

/ip firewall mangle
# Traffic Monitor
remove [find where comment~"Traffic"]
remove [find where comment~"IPs"]
# ===================== SPEEDTEST / IP CHECK =====================
add action=passthrough chain=prerouting comment="SpeedTest Traffic" src-address-list="SpeedTest IPs"

# ===================== YOUTUBE / GOOGLE VIDEO =====================
add action=passthrough chain=prerouting comment="Youtube Traffic" src-address-list="Youtube IPs"

# ===================== TIKTOK / BYTEDANCE =====================
add action=passthrough chain=prerouting comment="Tiktok Traffic" src-address-list="Tiktok IPs"

# ===================== TELEGRAM (FULL) =====================
add action=passthrough chain=prerouting comment="Telegram Traffic" src-address-list="Telegram IPs"

# ===================== SNAPCHAT =====================
add action=passthrough chain=prerouting comment="Snapchat Traffic" src-address-list="Snapchat IPs"

# ===================== TWITTER / X =====================
add action=passthrough chain=prerouting comment="Twitter/X Traffic" src-address-list="Twitter/X IPs"

# ===================== NETFLIX / SHAHID / DISNEY / PRIME =====================
add action=passthrough chain=prerouting comment="Shahid/Netflix Traffic" src-address-list="Shahid/Netflix IPs"

# ===================== APP STORES / UPDATES =====================
add action=passthrough chain=prerouting comment="Store Traffic" src-address-list="Store IPs"

# ===================== META / FACEBOOK / INSTAGRAM =====================
add action=passthrough chain=prerouting comment="Facebook Traffic" src-address-list="Facebook IPs"
add action=passthrough chain=prerouting comment="Instagram Traffic" src-address-list="Instagram IPs"

# ===================== WHATSAPP =====================
add action=passthrough chain=prerouting comment="Whatsapp Traffic" src-address-list="Whatsapp IPs"

# ===================== AI SERVICES =====================
add action=passthrough chain=prerouting comment="AI Traffic" src-address-list="AI IPs"

# ===================== LIKEE =====================
add action=passthrough chain=prerouting comment="Likee Traffic" src-address-list="Likee IPs"


# ===================== GAMES =====================
# ----- Call of Duty Mobile Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="COD Mobile IPs" address-list-timeout=1d protocol=tcp dst-port=3013,18082,65010,65050 comment="COD Mobile IPs" dst-address-type=!local
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="COD Mobile IPs" address-list-timeout=1d protocol=udp dst-port=7500-7650 comment="COD Mobile IPs" dst-address-type=!local

# ----- Free Fire Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Free Fire IPs" address-list-timeout=1d protocol=tcp dst-port=39003,39698,39779 comment="Free Fire IPs" dst-address-type=!local
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Free Fire IPs" address-list-timeout=1d protocol=udp dst-port=10001,10003,10012 comment="Free Fire IPs" dst-address-type=!local

# ----- PUBG Mobile Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="PUBG Mobile IPs" address-list-timeout=1d protocol=tcp dst-port=10012,17500 comment="PUBG Mobile IPs" dst-address-type=!local
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="PUBG Mobile IPs" address-list-timeout=1d protocol=udp dst-port=10010,10013,10039,10096,10491,10612,11455,12235,13748,13894,13972,20000-20002 comment="PUBG Mobile IPs" dst-address-type=!local

# ----- Mobile Legends Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Mobile Legends IPs" address-list-timeout=1d protocol=tcp dst-port=5001,5003,9001,30000-30200 comment="Mobile Legends IPs" dst-address-type=!local

# ----- Rules of Survival Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Rules of Survival IPs" address-list-timeout=1d protocol=udp dst-port=24000-24050 comment="Rules of Survival IPs" dst-address-type=!local

# ----- Clash of Clans Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Clash of Clans IPs" address-list-timeout=1d protocol=tcp dst-port=9330-9340 comment="Clash of Clans IPs" dst-address-type=!local

# ----- Dragon Nest Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Dragon Nest IPs" address-list-timeout=1d protocol=tcp dst-port=10514 comment="Dragon Nest IPs" dst-address-type=!local

# ----- Clash Royale Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Clash Royale IPs" address-list-timeout=1d protocol=tcp dst-port=9330-9340 comment="Clash Royale IPs" dst-address-type=!local dst-address-type=!local
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Clash Royale IPs" address-list-timeout=1d protocol=udp dst-port=9330-9340 comment="Clash Royale IPs" dst-address-type=!local dst-address-type=!local

# ----- Arena of Valor Detection -----
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Arena of Valor IPs" address-list-timeout=1d protocol=tcp dst-port=10001-10094 comment="Arena of Valor IPs" dst-address-type=!local
/ip firewall mangle add chain=prerouting action=add-dst-to-address-list address-list="Arena of Valor IPs" address-list-timeout=1d protocol=udp dst-port=10080,17000 comment="Arena of Valor IPs" dst-address-type=!local

#Redirect to Local DNS
/ip firewall nat
remove [find where dst-port 53]
add action=redirect chain=dstnat dst-port=53 protocol=udp
add action=redirect chain=dstnat dst-port=53 protocol=tcp

..
..
..

#by Mohammed Haidar
#+961 81507933
#Beirut Lebanon
